# otus-psql-homework-02

Курс "PostgreSQL для администраторов баз данных и разработчиков". Домашнее задание №2.

Задания и решения:

1. Создать ВМ с Ubuntu 20.04/22.04 или развернуть докер любым удобным способом.
   Решение:
   1.1. Установил ПО для виртуализации "VMware Workstation 17 Player".
   1.2. Скачал образ ubuntu-24.04.3-live-server-amd64.iso.
   1.3. Создал новую виртуальную машину Ubuntu Server 24.04.3.

2. Поставить на нем Docker Engine.
   Решение: Установил Docker Engine по официальной документации https://docs.docker.com/engine/install/ubuntu/.

3. Сделать каталог /var/lib/postgres.
   Решение: Создал новый каталог через sudo mkdir /var/lib/postgres.

4. Развернуть контейнер с PostgreSQL 15 смонтировав в него /var/lib/postgresql.
   Решение:
   4.1. Скачал образ postgres:15 через docker pull postgres:15.
   4.2. Подключил проброс портов и внешнюю папку при запуске контейнера через параметр -v.

5. Развернуть контейнер с клиентом postgres.
   Решение:
   5.1. Скачал образ с клиентом PostgreSQL.
   5.2. Запустил контейнер с клиентом PostgreSQL.

6. Подключится из контейнера с клиентом к контейнеру с сервером и сделать таблицу с парой строк.
   Решение:
   6.1. Подключился к PostgreSQL в контейнере.
   6.2. Создал таблицу и наполнил её несколькими строками.

7. Подключится к контейнеру с сервером с ноутбука/компьютера извне инстансов ЯО/места установки докера.
   Решение: проверил доступность PostgreSQL из других ПК сети.

8. Удалить контейнер с сервером.
   Решение: Остановил контейнер и проверил его отсутствие. Этого достаточно, т.к. контейнер согдавал с параметром --rm.

9. Создать его заново.
   Решение: заново запустил контейнер с прежними настройками.

10. Подключится снова из контейнера с клиентом к контейнеру с сервером
    проверить, что данные остались на месте.
    Решение:
    10.1. Подключился к контейнеру с клиентом.
    10.2. Проверил наличие ранее созданных записей.

11. Оставляйте в ЛК ДЗ комментарии что и как вы делали и как боролись с проблемами.
    Решение:
    11.1. Вначале была проблема с сохранением данных СУБД в папке, т.к. недостаточно перенаправить каталог /var/lib/postgresql.
    11.2. Проблему решил изменением перенаправляемого каталога на /var/lib/postgresql/data.

Скриншот выполнения:

<img width="1241" height="959" alt="Снимок экрана 2025-12-01 140709" src="https://github.com/user-attachments/assets/567c9384-66af-4f73-8555-6d7c6241cd61" />
